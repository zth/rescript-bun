// Generated by ReScript, PLEASE EDIT WITH CARE


let server = Bun.serve({
  port: 3000,
  fetch: async (request, _server) => {
    let url = new URL(request.url);
    let match = url.pathname;
    if (match === "/") {
      return Response.json({
        test: 1
      });
    } else {
      return new Response("404!");
    }
  }
});

console.log("Listening on localhost: " + server.port.toString());

let tlsServer = Bun.serve({
  tls: {
    ca: [
      Bun.file("ca1.pem"),
      Bun.file("ca2.pem")
    ],
    cert: [Bun.file("cert.pem")],
    key: [Bun.file("key.pem")]
  },
  fetch: async (_request, _server) => new Response("Welcome to Bun!")
});

export {
  server,
  tlsServer,
}
/* server Not a pure module */
